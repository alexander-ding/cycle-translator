(this["webpackJsonpcycle-translator"]=this["webpackJsonpcycle-translator"]||[]).push([[0],{171:function(e,t,n){},172:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(26),s=n.n(o),i=(n(158),n(118)),c=n(10),l=n(187),u=n(184),d=n(142),h=n.p+"static/media/logo.f965e8f7.png",j=n(191),g=n(4),b=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(j.a,{as:"h1",children:"About Cycle Translator"}),Object(g.jsx)("p",{children:'Cycle Translator automates the popular internet trend centered around creating "bad English" versions of existing texts by translating it over and over on Google Translate. It takes in a piece of text and passes it through Google Translate a bunch of times, cycling through different languages before translating the output back into the original language. Every step distorts the message a little\u2014a piece of information is lost in translation, so to speak\u2014, and you end up with a jumbled up version of the original text, full of broken grammar and close substitutions.'}),Object(g.jsxs)("p",{children:["The end result is usually something comedic, and it is always a fun challenge to try to decipher what the original text is based on the bad translation. For example, Tasty made a ",Object(g.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.youtube.com/watch?v=pLJo7jWJQj0",children:"video"})," where a pastry chef attempted to follow a recipe that's been translated 20 times. I was surprised to find that there was no easy-to-use tool online to easily do this, so I spent a couple days putting this together. I hope it's helpful!"]}),Object(g.jsx)(j.a,{as:"h2",children:"I love this! How can I show my appreciation \ud83c\udf89?"}),Object(g.jsx)("p",{children:"Allow me to redirect your attention to the Source button located at the bottom right of the web page, where there is a link to the GitHub repository of this project. Star the project, open issues, and send in pull requests to help improve the project!"})]})},p=n(193),f=n(190),O=n(80),x=function(){return Object(g.jsxs)(p.a,{style:{display:"flex",flexDirection:"row",alignItems:"center",marginTop:"auto"},children:[Object(g.jsxs)("span",{children:["Made with \u2764\ufe0f by ",Object(g.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://alexander-ding.github.io/",children:"Alex Ding"}),", 2021"]}),Object(g.jsxs)(f.a,{secondary:!0,color:"black",as:"a",target:"_blank",rel:"noopener noreferrer",href:"https://www.github.com/alexander-ding/cycle-translator",style:{marginLeft:"auto",minWidth:108},children:[Object(g.jsx)(O.a,{name:"github"})," Source"]})]})},m=n(25),y=n(140),v=n(126),w=n(185),k=n(186),L=n(194),T=n(183),S=n(143),C=n(189),I=function(e){var t=e.language,n=e.otherLanguage,a=e.setShow;return Object(g.jsxs)(C.a,{negative:!0,style:{position:"fixed",top:"2em",width:"80vw",zIndex:1e4,left:"10vw",right:"10vw"},onDismiss:function(){return a(!1)},children:[Object(g.jsxs)(C.a.Header,{children:["Cannot complete operation on ",t]}),Object(g.jsxs)("p",{children:["Doing so would create a back-to-back translation with the same language ",n]})]})},D=n(31),F=n(119),E=n(188),P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object.keys(e);if(0===n.length||1===n.length&&n[0]===t)throw new Error("Invalid input");for(;;){var a=n[Math.floor(Math.random()*n.length)];if(a!==t)return a}},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8;if(n<1)return[];for(var a=new Array(n),r=0;r<n-1;r++){var o=0===r?t:a[r-1];a[r]=P(e,o)}for(;;){var s=P(e,1===n?t:a[n-2]);if(s!==t)return a[n-1]=s,a}},H=function(e){return Object.keys(e).map((function(t){return{key:t,value:t,text:e[t].name}}))},M=n(192),A=document.createElement("div");document.body.appendChild(A);var z=function(e){var t=e.value,n=e.updateValue,a=e.languages,r=e.previousLanguage,o=e.nextLanguage,i=e.deleteSelf,c=e.provided,l=e.snapshot,u=e.style,d=Object.fromEntries(Object.keys(a).filter((function(e){return![r,o].includes(e)})).map((function(e){return[e,a[e]]}))),h=l.isDragging,j=Object(g.jsx)(M.a,Object(D.a)(Object(D.a)(Object(D.a)({innerRef:c.innerRef},c.draggableProps),c.dragHandleProps),{},{style:u,children:Object(g.jsx)(p.a,{children:Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(g.jsx)(w.a,{inline:!0,search:!0,options:H(d),value:t,onChange:function(e,t){return n(t.value)}}),Object(g.jsx)(O.a,{name:"delete",style:{marginLeft:"auto",cursor:"pointer"},onClick:i})]})})}));return h?s.a.createPortal(j,A):j},J=function(e){var t=e.isOpen,n=e.setIsOpen,a=e.hops,r=e.currentLanguage,o=e.languages,s=e.updateLanguage,i=e.deleteLanguage,c=e.addRandomLanguage,l=e.handleOnDragEnd;return Object(g.jsxs)(E.a,{open:t,onClose:function(){return n(!1)},size:"large",centered:!1,children:[Object(g.jsxs)(E.a.Header,{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:["Intermediate Languages",Object(g.jsx)(f.a,{primary:!0,onClick:c,style:{marginLeft:"auto"},disabled:20===a.length,children:"Add"})]}),Object(g.jsx)(E.a.Content,{children:Object(g.jsx)(F.a,{onDragEnd:l,children:Object(g.jsx)(F.c,{droppableId:"languages",children:function(e){return Object(g.jsxs)("div",Object(D.a)(Object(D.a)({ref:e.innerRef},e.droppableProps),{},{children:[a.map((function(e,t){return Object(g.jsx)(F.b,{draggableId:t.toString(),index:t,children:function(n,c){return Object(g.jsx)(z,{languages:o,value:e,updateValue:function(e){return s(t,e)},deleteSelf:function(){return i(t)},previousLanguage:0===t?r:a[t-1],nextLanguage:t===a.length-1?r:a[t+1],provided:n,snapshot:c,style:(l=n.draggableProps.style,u=c,u.isDropAnimating?Object(D.a)(Object(D.a)({},l),{},{transitionDuration:"0.01s"}):l)},t);var l,u}},t)})),e.placeholder]}))}})})}),Object(g.jsx)(E.a.Actions,{children:Object(g.jsx)(f.a,{content:"Save",labelPosition:"right",icon:"save",onClick:function(){return n(!1)},primary:!0})})]})},B=function(e){var t=e.currentLanguage,n=e.languages,r=e.hops,o=e.updateHops,s=e.isOpen,i=e.setIsOpen,c=Object(a.useState)(!1),l=Object(m.a)(c,2),u=l[0],d=l[1],h=Object(a.useState)(""),j=Object(m.a)(h,2),b=j[0],p=j[1],f=Object(a.useState)(""),O=Object(m.a)(f,2),x=O[0],y=O[1],v=function(e,t){p(n[e].name),y(n[t].name),d(!0),setTimeout((function(){d(!1)}),4e3)};return Object(g.jsxs)(g.Fragment,{children:[u?Object(g.jsx)(I,{setShow:d,language:b,otherLanguage:x}):null,Object(g.jsx)(J,{isOpen:s,setIsOpen:i,hops:r,currentLanguage:t,languages:n,updateLanguage:function(e,t){o(r.map((function(n,a){return e===a?t:n})))},deleteLanguage:function(e){var n=0===e?t:r[e-1];n!==(e===r.length-1?t:r[e+1])?o(r.filter((function(t,n){return e!==n}))):v(r[e],n)},addRandomLanguage:function(){if(!(r.length>=20))for(;;){var e=P(n,r[r.length-1]);if(e!==t)return void o([].concat(Object(S.a)(r),[e]))}},handleOnDragEnd:function(e){if(e.destination){var t=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),o=Object(m.a)(r,1)[0];return a.splice(n,0,o),a}(r,e.source.index,e.destination.index),n=function(e){for(var t=1;t<e.length;t++){var n=e[t-1];if(n===e[t])return[!1,n]}return[!0,null]}(t),a=Object(m.a)(n,2),s=a[0],i=a[1];s?o(t):v(r[e.source.index],i)}}})]})},G=function(e){var t=e.translate,n=e.inputText,a=e.updateText,r=e.translatedText,o=e.languages,s=e.currentLanguage,i=e.updateLanguage,c=e.hops,l=e.updateHops,u=e.isModalOpen,d=e.setIsModalOpen,h=e.isLoading,j=e.copy,b=Object(y.useMediaQuery)({query:"(min-width: 768px)"});return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(B,{hops:c,updateHops:l,isOpen:u,setIsOpen:d,languages:o,currentLanguage:s}),Object(g.jsxs)(p.a,{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(g.jsxs)("div",{style:{display:"inline-block",marginRight:"1em"},children:[Object(g.jsx)(w.a,{inline:!0,search:!0,options:H(o),value:s,onChange:function(e,t){return i(t.value)}}),Object(g.jsxs)("span",{children:[" sent through ",Object(g.jsx)("b",{style:{cursor:"pointer",textDecoration:"underline",color:"#2185d0"},onClick:function(e){return d(!0)},children:c.length})," different languages"]})]}),Object(g.jsx)(f.a,{primary:!0,style:{marginLeft:"auto"},onClick:function(e){return t()},children:"Translate"})]}),Object(g.jsx)(k.a,{style:{fontSize:"1.5em",marginBottom:"1em"},children:Object(g.jsxs)(L.a,{stackable:!0,columns:2,style:{margin:0},children:[Object(g.jsx)(L.a.Column,{id:"input",children:Object(g.jsx)(v.a,{autoFocus:!0,minRows:4,maxRows:15,placeholder:"Enter text",style:{resize:"none"},value:n,onChange:function(e){return a(e.target.value)}})}),Object(g.jsxs)(L.a.Column,{id:"translation",children:[Object(g.jsx)(T.a,{content:"Translating...",active:h}),b?Object(g.jsx)("textarea",{disabled:!0,rows:4,placeholder:"Translation",style:{backgroundColor:"#F5F5F5",resize:"none",height:"100%"},value:h?" ":r}):Object(g.jsx)(v.a,{disabled:!0,minRows:4,placeholder:"Translation",style:{backgroundColor:"#F5F5F5",resize:"none"},value:h?" ":r}),Object(g.jsx)(O.a,{name:"copy",style:{cursor:"pointer",position:"absolute",bottom:10,right:10},onClick:j})]})]})})]})},W="https://cycle-translator.herokuapp.com",_=function(){var e=Object(a.useState)("en"),t=Object(m.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)({}),s=Object(m.a)(o,2),i=s[0],c=s[1],l=Object(a.useState)([]),u=Object(m.a)(l,2),d=u[0],h=u[1],j=Object(a.useState)(""),b=Object(m.a)(j,2),p=b[0],f=b[1],O=Object(a.useState)(""),x=Object(m.a)(O,2),y=x[0],v=x[1],w=Object(a.useState)(!1),k=Object(m.a)(w,2),L=k[0],T=k[1],S=Object(a.useState)(!1),C=Object(m.a)(S,2),I=C[0],D=C[1];Object(a.useEffect)((function(){fetch(W+"/api/languages",{method:"GET"}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){return Object.fromEntries(e.map((function(e){return[e.code,e]})))})).then((function(e){c(e),h(R(e,"en"))}))}),[]);var F=Object(a.useCallback)((function(){p?(D(!0),function(e,t,n){var a=new URLSearchParams({hops:n.join(","),from:t});return fetch(W+"/api/translate?"+a.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e})}).then((function(e){if(!e.ok)throw e;return e.json()}))}(p,n,d).then((function(e){D(!1),v(e.translatedText)})).catch((function(e){D(!1),v("Error: failed to translate")}))):v("")}),[p,n,d,v]);return Object(g.jsx)(G,{translate:F,inputText:p,updateText:f,translatedText:y,languages:i,currentLanguage:n,updateLanguage:function(e){n!==e&&(r(e),0!==Object.keys(i).length&&h(R(i,n,d.length?d.length:8)))},hops:d,updateHops:h,isModalOpen:L,setIsModalOpen:T,isLoading:I,copy:function(){navigator.clipboard.writeText(y)}})},q=function(){return console.log("/cycle-translator"),Object(g.jsxs)(i.a,{basename:"/cycle-translator",children:[Object(g.jsx)(l.a,{borderless:!0,fixed:"top",style:{backgroundColor:"#fff",border:"1px solid #ddd",boxShadow:"0px 3px 5px rgba(0, 0, 0, 0.2)"},children:Object(g.jsxs)(u.a,{children:[Object(g.jsxs)(l.a.Item,{header:!0,as:i.b,to:"/",children:[Object(g.jsx)(d.a,{size:"mini",src:h}),Object(g.jsx)("span",{style:{marginLeft:"1em"},children:"Cycle Translator"})]}),Object(g.jsx)(l.a.Item,{position:"right",as:i.b,to:"about",children:"What is This?"})]})}),Object(g.jsxs)(u.a,{style:{paddingTop:"6em",paddingBottom:"1em",display:"flex",flexDirection:"column",height:"100vh"},children:[Object(g.jsxs)(c.d,{children:[Object(g.jsx)(c.b,{path:"/",exact:!0,children:Object(g.jsx)(_,{})}),Object(g.jsx)(c.b,{path:"/about",children:Object(g.jsx)(b,{})}),Object(g.jsx)(c.b,{path:"*",children:Object(g.jsx)(c.a,{to:"/"})})]}),Object(g.jsx)(x,{})]})]})},Q=(n(171),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,196)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),o(e),s(e)}))});s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(q,{})}),document.getElementById("root")),Q()}},[[172,1,2]]]);
//# sourceMappingURL=main.8a1cb8b8.chunk.js.map